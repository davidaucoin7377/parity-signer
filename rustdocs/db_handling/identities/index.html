<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Creating, collecting, and removing addresses in cold database"><title>db_handling::identities - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-84e720fa.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="db_handling" data-themes="" data-resource-suffix="" data-rustdoc-version="1.89.0 (29483883e 2025-08-04)" data-channel="1.89.0" data-search-js="search-92309212.js" data-settings-js="settings-5514c975.js" ><script src="../../static.files/storage-4e99c027.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-fd3af306.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../db_handling/index.html">db_<wbr>handling</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module identities</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate db_<wbr>handling</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">db_handling</a></div><h1>Module <span>identities</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/db_handling/identities.rs.html#1-1851">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Creating, collecting, and removing addresses in cold database</p>
<p>In Vault and Vault-related ecosystem the address is a key pair within a
certain network. Vault Rust database stores only <strong>non-secret</strong> data
associated with each address generated by user.</p>
<p>Required data to generate address:</p>
<ul>
<li>seed phrase (secret words set, must be always zeroized after use and is
never stored in Rust database)</li>
<li>derivation path (<code>/soft//hard///password</code>); password part, i.e. whatever
follows <code>///</code> is not stored in Rust database and must be zeroized after use</li>
<li><a href="definitions::keyring::NetworkSpecsKey"><code>NetworkSpecsKey</code></a></li>
</ul>
<p>The combination of seed phrase and derivation path allows to generate key
pair using the encryption algorithm supported by the network, for which the
address is generated.</p>
<p>Vault stores only the public key, it is used together with encryption
algorithm <a href="definitions::crypto::Encryption"><code>Encryption</code></a> to generate
<a href="definitions::keyring::AddressKey"><code>AddressKey</code></a>.</p>
<p>Same <code>AddressKey</code> could correspond to more than one network if the addresses
were produced for same seed phrase and derivation path, and networks use
same encryption algorithm. The networks specs keys of associated networks
are stored in <code>network_id</code> field of <code>AddressDetails</code>.</p>
<p>Vault interface shows those addresses as separate entities.</p>
<p>Non-secret data associated with <code>AddressKey</code> is stored in
<a href="constants::ADDRTREE"><code>ADDRTREE</code></a> tree of the cold database as SCALE-encoded
<a href="definitions::users::AddressDetails"><code>AddressDetails</code></a>.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">ยง</a></h2><dl class="item-table"><dt><a class="struct" href="struct.AddrInfo.html" title="struct db_handling::identities::AddrInfo">Addr<wbr>Info</a></dt><dt><a class="struct" href="struct.DynamicDerivationTransaction.html" title="struct db_handling::identities::DynamicDerivationTransaction">Dynamic<wbr>Derivation<wbr>Transaction</a></dt><dt><a class="struct" href="struct.ExportAddrsV1.html" title="struct db_handling::identities::ExportAddrsV1">Export<wbr>Addrs<wbr>V1</a></dt><dt><a class="struct" href="struct.ExportAddrsV2.html" title="struct db_handling::identities::ExportAddrsV2">Export<wbr>Addrs<wbr>V2</a></dt><dt><a class="struct" href="struct.SeedInfo.html" title="struct db_handling::identities::SeedInfo">Seed<wbr>Info</a></dt><dt><a class="struct" href="struct.SignaturesBulkV1.html" title="struct db_handling::identities::SignaturesBulkV1">Signatures<wbr>Bulk<wbr>V1</a></dt><dt><a class="struct" href="struct.TransactionBulkV1.html" title="struct db_handling::identities::TransactionBulkV1">Transaction<wbr>Bulk<wbr>V1</a></dt></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">ยง</a></h2><dl class="item-table"><dt><a class="enum" href="enum.DerivationCheck.html" title="enum db_handling::identities::DerivationCheck">Derivation<wbr>Check</a></dt><dd>Proposed derivation status.</dd><dt><a class="enum" href="enum.ExportAddrs.html" title="enum db_handling::identities::ExportAddrs">Export<wbr>Addrs</a></dt><dt><a class="enum" href="enum.SignaturesBulk.html" title="enum db_handling::identities::SignaturesBulk">Signatures<wbr>Bulk</a></dt><dt><a class="enum" href="enum.TransactionBulk.html" title="enum db_handling::identities::TransactionBulk">Transaction<wbr>Bulk</a></dt><dt><a class="enum" href="enum.VaultFeatures.html" title="enum db_handling::identities::VaultFeatures">Vault<wbr>Features</a></dt></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">ยง</a></h2><dl class="item-table"><dt><a class="fn" href="fn.check_derivation_set.html" title="fn db_handling::identities::check_derivation_set">check_<wbr>derivation_<wbr>set</a></dt><dd>Check derivations before offering user to import them.</dd><dt><a class="fn" href="fn.create_increment_set.html" title="fn db_handling::identities::create_increment_set">create_<wbr>increment_<wbr>set</a></dt><dd>Add a set of new derived addresses: N+1, N+2, etc into Vault database.</dd><dt><a class="fn" href="fn.create_key_set.html" title="fn db_handling::identities::create_key_set">create_<wbr>key_<wbr>set</a></dt><dd>Creates seed into Vault: add default addresses for <code>derive_for_networks</code> in the Vault</dd><dt><a class="fn" href="fn.cut_path.html" title="fn db_handling::identities::cut_path">cut_<wbr>path</a></dt><dd>Separate derivation path with password into non-secret part and password.</dd><dt><a class="fn" href="fn.derivation_check.html" title="fn db_handling::identities::derivation_check">derivation_<wbr>check</a></dt><dd>Preliminary checks if the user-proposed derivation could be used to create
the address.</dd><dt><a class="fn" href="fn.derive_single_key.html" title="fn db_handling::identities::derive_single_key">derive_<wbr>single_<wbr>key</a></dt><dd>Helper function to get public key from seed phrase and derivation path</dd><dt><a class="fn" href="fn.dynamic_derivations_response.html" title="fn db_handling::identities::dynamic_derivations_response">dynamic_<wbr>derivations_<wbr>response</a></dt><dd>Prepare <code>DynamicDerivationsAddressResponse</code> for the given request</dd><dt><a class="fn" href="fn.export_key_set_addrs.html" title="fn db_handling::identities::export_key_set_addrs">export_<wbr>key_<wbr>set_<wbr>addrs</a></dt><dd>Export info about keys and their addresses known to Vault</dd><dt><a class="fn" href="fn.export_secret_key.html" title="fn db_handling::identities::export_secret_key">export_<wbr>secret_<wbr>key</a></dt><dd>Prepare <strong>secret</strong> key export screen struct [<code>MKeyDetails</code>].</dd><dt><a class="fn" href="fn.find_address_details_for_multisigner.html" title="fn db_handling::identities::find_address_details_for_multisigner">find_<wbr>address_<wbr>details_<wbr>for_<wbr>multisigner</a></dt><dd>Return address details that corresponds to a public key. The root public keys are prioritized.
Then network hashes passed as last param allows to choose one address
in case multiple addresses available in different networks</dd><dt><a class="fn" href="fn.generate_random_phrase.html" title="fn db_handling::identities::generate_random_phrase">generate_<wbr>random_<wbr>phrase</a></dt><dd>Generate random phrase with given number of words.</dd><dt><a class="fn" href="fn.generate_test_identities.html" title="fn db_handling::identities::generate_test_identities">generate_<wbr>test_<wbr>identities</a></dt><dd>Generate test Alice addresses in test cold database.</dd><dt><a class="fn" href="fn.get_addresses_by_seed_name.html" title="fn db_handling::identities::get_addresses_by_seed_name">get_<wbr>addresses_<wbr>by_<wbr>seed_<wbr>name</a></dt><dd>Get all existing addresses for a given seed name from the database.</dd><dt><a class="fn" href="fn.get_all_addresses.html" title="fn db_handling::identities::get_all_addresses">get_<wbr>all_<wbr>addresses</a></dt><dd>Get all existing addresses from the database.</dd><dt><a class="fn" href="fn.get_multisigner_by_address.html" title="fn db_handling::identities::get_multisigner_by_address">get_<wbr>multisigner_<wbr>by_<wbr>address</a></dt><dt><a class="fn" href="fn.import_all_addrs.html" title="fn db_handling::identities::import_all_addrs">import_<wbr>all_<wbr>addrs</a></dt><dt><a class="fn" href="fn.inject_derivations_has_pwd.html" title="fn db_handling::identities::inject_derivations_has_pwd">inject_<wbr>derivations_<wbr>has_<wbr>pwd</a></dt><dt><a class="fn" href="fn.is_passworded.html" title="fn db_handling::identities::is_passworded">is_<wbr>passworded</a></dt><dd>Check derivation format and determine if it has a password.</dd><dt><a class="fn" href="fn.process_dynamic_derivations_v1.html" title="fn db_handling::identities::process_dynamic_derivations_v1">process_<wbr>dynamic_<wbr>derivations_<wbr>v1</a></dt><dt><a class="fn" href="fn.remove_key.html" title="fn db_handling::identities::remove_key">remove_<wbr>key</a></dt><dd>Remove address from the Vault database.</dd><dt><a class="fn" href="fn.remove_keys_set.html" title="fn db_handling::identities::remove_keys_set">remove_<wbr>keys_<wbr>set</a></dt><dd>Remove a set of addresses within a single network from the Vault database.</dd><dt><a class="fn" href="fn.remove_seed.html" title="fn db_handling::identities::remove_seed">remove_<wbr>seed</a></dt><dd>Remove all addresses associated with given seed name from the Vault
database.</dd><dt><a class="fn" href="fn.try_create_address.html" title="fn db_handling::identities::try_create_address">try_<wbr>create_<wbr>address</a></dt><dd>Create a new address in the Vault database.</dd><dt><a class="fn" href="fn.try_create_seed.html" title="fn db_handling::identities::try_create_seed">try_<wbr>create_<wbr>seed</a></dt><dd>Accept seed into Vault: add default addresses for a seed in the Vault
database.</dd><dt><a class="fn" href="fn.validate_key_password.html" title="fn db_handling::identities::validate_key_password">validate_<wbr>key_<wbr>password</a></dt></dl></section></div></main></body></html>