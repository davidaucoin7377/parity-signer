<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Making and restoring cold database with default content"><title>db_handling::cold_default - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-84e720fa.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="db_handling" data-themes="" data-resource-suffix="" data-rustdoc-version="1.89.0 (29483883e 2025-08-04)" data-channel="1.89.0" data-search-js="search-92309212.js" data-settings-js="settings-5514c975.js" ><script src="../../static.files/storage-4e99c027.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-fd3af306.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../db_handling/index.html">db_<wbr>handling</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module cold_<wbr>default</a></h2><h3><a href="#functions">Module Items</a></h3><ul class="block"><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate db_<wbr>handling</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">db_handling</a></div><h1>Module <span>cold_default</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/db_handling/cold_default.rs.html#1-335">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Making and restoring <strong>cold</strong> database with default content</p>
<p>Cold database is the database that is operated from inside the Vault.</p>
<p>Cold database contains following trees:</p>
<ul>
<li><code>ADDRTREE</code> with public addresses data</li>
<li><code>HISTORY</code> with Vault history log</li>
<li><code>METATREE</code> with network metadata</li>
<li><code>SETTREE</code> with settings: types information, Vault dangerous exposures
record and Vault database general verifier</li>
<li><code>SPECSTREE</code> with network specs</li>
<li><code>TRANSACTION</code> for temporary storage of the transaction data</li>
<li><code>VERIFIERS</code> with network verifiers data</li>
</ul>
<p>For release, the cold database is generated on the hot side and then copied
verbatim into Vault files during the build.</p>
<p>Before the database could be used, it must be initiated:</p>
<ul>
<li>History log old entries (if any are present) are removed and a new entry
<code>Event::DatabaseInitiated</code> is added</li>
<li>General verifier is set and this event is recorded in the history log. By
default, Vault sets up Parity-associated key as a general verifier. This
could be later on changed by the user.</li>
</ul>
<p>Vault then reads and updates the database as it operates.</p>
<p>There are two ways to reset the database from the Vault user interface.
Either would remove all the keys and restore the database to the release
state. The difference would be only in the general verifier setting:</p>
<ul>
<li><code>Wipe all data</code> would set the general verifier to default <code>Some(_)</code>,
with Parity-associated key inside</li>
<li><code>Remove general certificate</code> would set the general verifier to <code>None</code>.
User would then be able to set up own general verifier, preferably
immediately afterwards, by loading to Vault any verified data.
Setting up a new general verifier would remove all data associated with the
general verifier from the Vault database to avoid confusion as to who
verified what information.</li>
</ul>
</div></details><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">ยง</a></h2><dl class="item-table"><dt><a class="fn" href="fn.init_db.html" title="fn db_handling::cold_default::init_db">init_db</a></dt><dd>Initiate cold database and set up the database general verifier to given
[<code>Verifier</code>].</dd><dt><a class="fn" href="fn.populate_all_network_specs.html" title="fn db_handling::cold_default::populate_all_network_specs">populate_<wbr>all_<wbr>network_<wbr>specs</a></dt><dd>Generate database with networks specs both for substrate and ethereum</dd><dt><a class="fn" href="fn.populate_cold.html" title="fn db_handling::cold_default::populate_cold">populate_<wbr>cold</a></dt><dd>Generate initiated test cold database with default content, and create in it
Alice default addresses.</dd><dt><a class="fn" href="fn.populate_cold_nav_test.html" title="fn db_handling::cold_default::populate_cold_nav_test">populate_<wbr>cold_<wbr>nav_<wbr>test</a></dt><dd>Generate <strong>not initiated</strong> test cold database for <code>navigator</code> testing.</dd><dt><a class="fn" href="fn.populate_cold_nav_test_with_ethereum_based_networks.html" title="fn db_handling::cold_default::populate_cold_nav_test_with_ethereum_based_networks">populate_<wbr>cold_<wbr>nav_<wbr>test_<wbr>with_<wbr>ethereum_<wbr>based_<wbr>networks</a></dt><dd>Generate <strong>not initiated</strong> test cold database for <code>navigator</code> testing with Mythos network.</dd><dt><a class="fn" href="fn.populate_cold_no_metadata.html" title="fn db_handling::cold_default::populate_cold_no_metadata">populate_<wbr>cold_<wbr>no_<wbr>metadata</a></dt><dd>Generate initiated test cold database without network metadata.</dd><dt><a class="fn" href="fn.populate_cold_no_networks.html" title="fn db_handling::cold_default::populate_cold_no_networks">populate_<wbr>cold_<wbr>no_<wbr>networks</a></dt><dd>Generate initiated test cold database with no network-associated data.</dd><dt><a class="fn" href="fn.signer_init_no_cert.html" title="fn db_handling::cold_default::signer_init_no_cert">signer_<wbr>init_<wbr>no_<wbr>cert</a></dt><dd>Initiate Vault database with general verifier set up to <code>Verifier(None)</code>.</dd><dt><a class="fn" href="fn.signer_init_with_cert.html" title="fn db_handling::cold_default::signer_init_with_cert">signer_<wbr>init_<wbr>with_<wbr>cert</a></dt><dd>Initiate Vault database with default general verifier (Parity-associated
key).</dd></dl></section></div></main></body></html>